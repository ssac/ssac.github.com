<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, height=device-height, user-scalable=no" />
  <style>

    -webkit-tap-highlight-color:rgba(0,0,0,0);

    html {
      overflow: hidden;
      height: 100%;
    }

    body {
      margin: 0px;
    }
  
    .div-vertical {
      margin-left: auto;
      margin-right: auto;
    }
    
    .show {
      margin: auto;
    }
    
    .back {
      position: absolute;
    }
    
    #desc-v-back {
      top: 230px;
      left: 200px;
    }
    
    #desc-h-back {
      top: 200px;
      left: 1180px;
    }
    
    .desc {
      position: relative;
    }
    
    img {
      margin: auto;
      display: block;
      !max-width: 100%;
      !max-height: 100%;
    }
  </style>
  
  
  <script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
  <script type="text/javascript" src="js/jquery.mobile-1.1.1.min.js"></script>
  <!-- <script type="text/javascript" src="js/klass.min.js"></script>
  <script type="text/javascript" src="js/code.photoswipe.noutil-3.0.5.min.js"></script> -->
  <script>
    //alert(document.documentElement.clientWidth);
    //$(document).ready( function(){
    
    $(document).bind('pageinit', function() {
    
      //var lastShownId = null;
    
      function show() {
        /*
        var orientation = window.orientation;
      
        if (orientation == 90 || orientation == 270) {
            $(lastShownId && lastShownId.replace(/-v-/, "-h-") || "#page-h").show();
        }
        else if (orientation == 0 || orientation == 180) {
            $(lastShownId && lastShownId.replace(/-h-/, "-v-") || "#page-v").show();
        }
        */
        
        var client_width = document.documentElement.clientWidth;
        var client_height = document.documentElement.clientHeight;
        var ratio = Math.min((isVertical()? client_width : client_height) / 540, (isVertical()? client_height : client_width) / 960)
        document.documentElement.style.zoom = ratio;
      }
      
      /*
      function start() {
        $(".show").hide();
        show();
      }
      window.start = start;
      */
      
      function isVertical() {
        return (window.orientation == 0 || window.orientation == 180) ? true : false;
      }
      
      $('#page2-1').bind('swipeleft', function() {
        $('#page2-1').hide();
        $('#page2-2').show();
      });
      
      $('#page2-2').bind('swiperight', function() {
        $('#page2-2').hide();
        $('#page2-1').show();
      });
      
      //$('.ui-page').css('overflow', 'hidden');
      $('.ui-loader').hide();
      
      /*
      $(".control").click( function() {
        $(".show").hide();
        var data = $(this).attr('data');
        lastShownId = data;
        $(data).show();
      });
      */
      $(".control").click( function() {
        $(".show").hide();
        //var data = $(this).attr('data');
        //data = data * 1;
        
        var id = $(this).attr('data');
        
        /*
        switch(data) {
          case 1:
            $("#page2").show();
            break;
          case 2:
            $("#page3").show();
            break;
          case 3:
            $("#page1").show();
            break;
          case 4:
            $("#page2").show();
            break;
        }
        */
        $(id).show();
        
        show();
      });
      
      /*
      $(".prev, .next").click( function() {
        var num = lastShownId.slice(lastShownId.length - 1) * 1 + ($(this).hasClass('prev') ? -1 : 1);
        if(num < 1) num = 3;
        if(num > 3) num = 1;
        lastShownId = lastShownId.slice(0, lastShownId.length - 1) + num;
        
        start();
      });
      */
      
      /*
      $(".return").click( function() {
        $(".show").hide();
        lastShownId = null;
        show();
      });
      */
      
      $(window).bind('resize orientationchange', function() {
        //start();
        show();
      });
      
      //window.orientation = 0;
      
      $(".show").hide();
      $("#page1").show();
      show();
      
      //start();
    });
  </script>
</head>
<body>
    
    <div id="page1" class="show">
      <img id="img1" src="demo8/page1.png" usemap="#page1-map" />
      <map name="page1-map">
        <area shape="rect" coords="170 102 370 303" data="#page2-1" class="control" />
        <area shape="rect" coords="381 310 580 508" data="#page3" class="control" />
      </map>
    </div>
    
    <div id="gallery">
      <div id="page2-1" class="show">
        <img src="demo8/page2-1.png" usemap="#page2-1-map"/>
        <map name="page2-1-map">
          <area shape="rect" coords="821 476 909 524" data="#page1"  class="control" />
        </map>
      </div>
      
      <div id="page2-2" class="show">
        <img src="demo8/page2-2.png" usemap="#page2-2-map"/>
        <map name="page2-2-map">
          <area shape="rect" coords="821 476 909 524" data="#page1"  class="control" />
        </map>
      </div>
    </div>

    
    <div id="page3" class="show">
      <img src="demo8/page3.png" usemap="#page3-map"/>
      <map name="page3-map">
        <area shape="rect" coords="821 476 909 524" data="#page1" class="control" />
      </map>
    </div>

    <!--
    <div id="page-v" class="show div-vertical">
      <img src="img/page-v.jpg" usemap="#page-v-map" />
      <map name="page-v-map">
        <area shape="rect" coords="250 280 500 470" data="#desc-v-1" class="control" />
        <area shape="rect" coords="250 600 500 830" data="#desc-v-2" class="control" />
        <area shape="rect" coords="250 960 500 1160" data="#desc-v-3" class="control" />
      </map>
    </div>
    
    <div id="desc-v-1" class="show div-vertical">
      <img src="img/v1.jpg" usemap="#desc-v-1" />
      <map name="desc-v-1">
        <area shape="rect" coords="460 150 540 200" class="return" />
        <area shape="rect" coords="210 150 480 210" class="prev" />
        <area shape="rect" coords="200 1240 430 1300" class="next" />
        <area shape="rect" coords="430 1240 560 1300" class="return" />
      </map>
    </div>
  
    <div id="desc-v-2" class="show div-vertical">
      <img src="img/v2.jpg" usemap="#desc-v-1" />
      <map name="desc-v-2">
        <area shape="rect" coords="460 150 540 200" class="return" />
      </map>
    </div>
  
    <div id="desc-v-3" class="show">
      <img src="img/v3.jpg" usemap="#desc-v-1" />
      <map name="desc-v-3">
        <area shape="rect" coords="460 150 540 200" class="return" />
      </map>
    </div>
  
    <div id="page-h" class="show div-horizontal">
      <img src="img/page-h.jpg" usemap="#page-h-map" />
      <map name="page-h-map">
        <area shape="rect" coords="250 250 520 480" data="#desc-h-1" class="control" />
        <area shape="rect" coords="560 250 860 480" data="#desc-h-2" class="control" />
        <area shape="rect" coords="900 250 1200 480" data="#desc-h-3" class="control" />
      </map>
    </div>
    
    <div id="desc-h-1" class="show div-horizontal">
      <img src="img/h1.jpg" usemap="#desc-h-1" />
      <map name="desc-h-1">
        <area shape="rect" coords="1150 200 1260 260" class="return" />
        <area shape="rect" coords="110 210 210 520" class="prev" />
        <area shape="rect" coords="1240 210 1310 480" class="next" />
        <area shape="rect" coords="1160 480 1280 540" class="return" />
      </map>
    </div>
    
    <div id="desc-h-2" class="show div-horizontal">
      <img src="img/h2.jpg" usemap="#desc-h-1" />
      <map name="desc-h-2">
        <area shape="rect" coords="1150 200 1260 260" class="return" />
      </map>
    </div>
    
    <div id="desc-h-3" class="show div-horizontal">
      <img src="img/h3.jpg" usemap="#desc-h-1" />
      <map name="desc-h-3">
        <area shape="rect" coords="1150 200 1260 260" class="return" />
      </map>
    </div>
    -->
  
</body>
</html>
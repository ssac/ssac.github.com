<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width" />
  <style>
    body {
      margin: 0px;
    }

    img {
      margin: auto;
      display: block;
      border: 0;
    }
  </style>
  <script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
  <script type="text/javascript" src="js/jquery.fancybox.pack.js"></script>
  <script>
    $(document).ready(function(){

      var lastShownId = null;

      function start() {
        $(".show").hide();

        if (isVertical()) {
            lastShownId = lastShownId && lastShownId.replace(/-h-/, "-v-") || "#page-v";
        }
		else {
            lastShownId = lastShownId && lastShownId.replace(/-v-/, "-h-") || "#page-h";
        }

        $(lastShownId).show();

        var clientSize = [document.documentElement.clientWidth, document.documentElement.clientHeight];
        var imgSize = {
            '#cert-1': [1002, 725],
            '#cert-2': [1031, 725],
            '#cert-3': [1210, 725],
            '#page-v': [725, 1435],
            '#desc-v-1': [725, 1435],
            '#desc-v-2': [725, 1435],
            '#desc-v-3': [725, 1435],
            '#page-h': [1435, 725],
            '#desc-h-1': [1435, 725],
            '#desc-h-2': [1435, 725],
            '#desc-h-3': [1435, 725]
        }[lastShownId];
        var ratio = Math.min(clientSize[0] / imgSize[0], clientSize[1] / imgSize[1]);

        document.documentElement.style.zoom = ratio;
      }

      function isVertical() {
        return document.documentElement.clientHeight > document.documentElement.clientWidth;
      }

      $(".control").click(function() {
        $(".show").hide();
        $(lastShownId = $(this).attr('data')).show();
      });

      $(".prev, .next").click( function() {
        var num = lastShownId.slice(lastShownId.length - 1) * 1 + ($(this).hasClass('prev') ? -1 : 1);
        if(num < 1) num = 3;
        if(num > 3) num = 1;
        lastShownId = lastShownId.slice(0, lastShownId.length - 1) + num;

        start();
      });

      $('.attachment').click(function() {
        var temp = lastShownId;
        lastShownId = '#cert-' + lastShownId.slice(lastShownId.length - 1);
        start();
        lastShownId = temp;
      });

      $('.cert').click(function()
      {
        start();
      });

      $(".return").click( function() {
        lastShownId = null;
        start();
      });

      $(window).bind('resize orientationchange', start);

      start();
    });
  </script>
</head>
<body>
    <div id="cert-1" class="show cert">
      <img src="img/cert1.jpg" />
    </div>

    <div id="cert-2" class="show cert">
      <img src="img/cert2.jpg" />
    </div>

    <div id="cert-3" class="show cert">
      <img src="img/cert3.jpg" />
    </div>

    <div id="page-v" class="show div-vertical">
      <img src="img/chess-page-v.jpg" usemap="#page-v-map" />
      <map name="page-v-map">
        <area shape="rect" coords="250 280 500 470" data="#desc-v-1" class="control" />
        <area shape="rect" coords="250 600 500 830" data="#desc-v-2" class="control" />
        <area shape="rect" coords="250 960 500 1160" data="#desc-v-3" class="control" />
      </map>
    </div>

    <div id="desc-v-1" class="show div-vertical">
      <img src="img/chess-v1.jpg" usemap="#desc-v-1" />
      <map name="desc-v-1">
        <area shape="rect" coords="210 150 480 210" class="prev" />
        <area shape="rect" coords="200 1240 430 1300" class="next" />
        <area shape="rect" coords="430 1240 560 1300" class="return" />
        <area shape="rect" coords="505,194,556,243" class="attachment" />
      </map>
    </div>

    <div id="desc-v-2" class="show div-vertical">
      <img src="img/chess-v2.jpg" usemap="#desc-v-1" />
    </div>

    <div id="desc-v-3" class="show">
      <img src="img/chess-v3.jpg" usemap="#desc-v-1" />
    </div>

    <div id="page-h" class="show div-horizontal">
      <img src="img/chess-page-h.jpg" usemap="#page-h-map" />
      <map name="page-h-map">
        <area shape="rect" coords="250 250 520 480" data="#desc-h-1" class="control" />
        <area shape="rect" coords="560 250 860 480" data="#desc-h-2" class="control" />
        <area shape="rect" coords="900 250 1200 480" data="#desc-h-3" class="control" />
      </map>
    </div>

    <div id="desc-h-1" class="show div-horizontal">
      <img src="img/chess-h1.jpg" usemap="#desc-h-1" />
      <map name="desc-h-1">
        <area shape="rect" coords="110 210 210 520" class="prev" />
        <area shape="rect" coords="1240 210 1310 480" class="next" />
        <area shape="rect" coords="1160 480 1280 540" class="return" />
        <area shape="rect" coords="240,479,298,536" class="attachment" />
      </map>
    </div>

    <div id="desc-h-2" class="show div-horizontal">
      <img src="img/chess-h2.jpg" usemap="#desc-h-1" />
    </div>

    <div id="desc-h-3" class="show div-horizontal">
      <img src="img/chess-h3.jpg" usemap="#desc-h-1" />
    </div>
</body>
</html>